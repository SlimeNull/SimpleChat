import{p as A,aj as B,l as j,a4 as ne,x as W,v as ae,ai as q,am as se,O as T,Z as ue,U as X,s as _,aI as le,aJ as ie,n as c,al as z,q as re,y as $,ap as ce}from"./index-7e0ef185.js";const pe=A({class:[String,Array],style:{type:[String,Array,Object],default:null}},"component");function me(n){const l=B("useRender");l.render=n}function ve(n){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const v=j(),u=j();if(ne){const t=new ResizeObserver(a=>{n==null||n(a,t),a.length&&(l==="content"?u.value=a[0].contentRect:u.value=a[0].target.getBoundingClientRect())});W(()=>{t.disconnect()}),ae(v,(a,i)=>{i&&(t.unobserve(q(i)),u.value=void 0),a&&t.observe(q(a))},{flush:"post"})}return{resizeRef:v,contentRect:se(u)}}const O=Symbol.for("vuetify:layout"),F=Symbol.for("vuetify:layout-item"),D=1e3,ge=A({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),he=A({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function Ie(){const n=T(O);if(!n)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:n.getLayoutItem,mainRect:n.mainRect,mainStyles:n.mainStyles}}function be(n){const l=T(O);if(!l)throw new Error("[Vuetify] Could not find injected layout");const v=n.id??`layout-item-${ue()}`,u=B("useLayoutItem");X(F,{id:v});const t=_(!1);le(()=>t.value=!0),ie(()=>t.value=!1);const{layoutItemStyles:a,layoutItemScrimStyles:i}=l.register(u,{...n,active:c(()=>t.value?!1:n.active.value),id:v});return W(()=>l.unregister(v)),{layoutItemStyles:a,layoutRect:l.layoutRect,layoutItemScrimStyles:i}}const de=(n,l,v,u)=>{let t={top:0,left:0,right:0,bottom:0};const a=[{id:"",layer:{...t}}];for(const i of n){const p=l.get(i),g=v.get(i),L=u.get(i);if(!p||!g||!L)continue;const h={...t,[p.value]:parseInt(t[p.value],10)+(L.value?parseInt(g.value,10):0)};a.push({id:i,layer:h}),t=h}return a};function xe(n){const l=T(O,null),v=c(()=>l?l.rootZIndex.value-100:D),u=j([]),t=z(new Map),a=z(new Map),i=z(new Map),p=z(new Map),g=z(new Map),{resizeRef:L,contentRect:h}=ve(),J=c(()=>{const o=new Map,d=n.overlaps??[];for(const e of d.filter(r=>r.includes(":"))){const[r,s]=e.split(":");if(!u.value.includes(r)||!u.value.includes(s))continue;const y=t.get(r),m=t.get(s),R=a.get(r),S=a.get(s);!y||!m||!R||!S||(o.set(s,{position:y.value,amount:parseInt(R.value,10)}),o.set(r,{position:m.value,amount:-parseInt(S.value,10)}))}return o}),I=c(()=>{const o=[...new Set([...i.values()].map(e=>e.value))].sort((e,r)=>e-r),d=[];for(const e of o){const r=u.value.filter(s=>{var y;return((y=i.get(s))==null?void 0:y.value)===e});d.push(...r)}return de(d,t,a,p)}),H=c(()=>!Array.from(g.values()).some(o=>o.value)),b=c(()=>I.value[I.value.length-1].layer),Y=c(()=>({"--v-layout-left":$(b.value.left),"--v-layout-right":$(b.value.right),"--v-layout-top":$(b.value.top),"--v-layout-bottom":$(b.value.bottom),...H.value?void 0:{transition:"none"}})),x=c(()=>I.value.slice(1).map((o,d)=>{let{id:e}=o;const{layer:r}=I.value[d],s=a.get(e),y=t.get(e);return{id:e,...r,size:Number(s.value),position:y.value}})),N=o=>x.value.find(d=>d.id===o),C=B("createLayout"),U=_(!1);re(()=>{U.value=!0}),X(O,{register:(o,d)=>{let{id:e,order:r,position:s,layoutSize:y,elementSize:m,active:R,disableTransitions:S,absolute:Q}=d;i.set(e,r),t.set(e,s),a.set(e,y),p.set(e,R),S&&g.set(e,S);const Z=ce(F,C==null?void 0:C.vnode).indexOf(o);Z>-1?u.value.splice(Z,0,e):u.value.push(e);const K=c(()=>x.value.findIndex(w=>w.id===e)),M=c(()=>v.value+I.value.length*2-K.value*2),ee=c(()=>{const w=s.value==="left"||s.value==="right",P=s.value==="right",oe=s.value==="bottom",V={[s.value]:0,zIndex:M.value,transform:`translate${w?"X":"Y"}(${(R.value?0:-110)*(P||oe?-1:1)}%)`,position:Q.value||v.value!==D?"absolute":"fixed",...H.value?void 0:{transition:"none"}};if(!U.value)return V;const f=x.value[K.value];if(!f)throw new Error(`[Vuetify] Could not find layout item "${e}"`);const E=J.value.get(e);return E&&(f[E.position]+=E.amount),{...V,height:w?`calc(100% - ${f.top}px - ${f.bottom}px)`:m.value?`${m.value}px`:void 0,left:P?void 0:`${f.left}px`,right:P?`${f.right}px`:void 0,top:s.value!=="bottom"?`${f.top}px`:void 0,bottom:s.value!=="top"?`${f.bottom}px`:void 0,width:w?m.value?`${m.value}px`:void 0:`calc(100% - ${f.left}px - ${f.right}px)`}}),te=c(()=>({zIndex:M.value-1}));return{layoutItemStyles:ee,layoutItemScrimStyles:te,zIndex:M}},unregister:o=>{i.delete(o),t.delete(o),a.delete(o),p.delete(o),g.delete(o),u.value=u.value.filter(d=>d!==o)},mainRect:b,mainStyles:Y,getLayoutItem:N,items:x,layoutRect:h,rootZIndex:v});const k=c(()=>["v-layout",{"v-layout--full-height":n.fullHeight}]),G=c(()=>({zIndex:v.value,position:l?"relative":void 0,overflow:l?"hidden":void 0}));return{layoutClasses:k,layoutStyles:G,getLayoutItem:N,items:x,layoutRect:h,layoutRef:L}}const Re=A({tag:{type:String,default:"div"}},"tag");export{ge as a,he as b,xe as c,Re as d,be as e,ve as f,Ie as g,pe as m,me as u};
